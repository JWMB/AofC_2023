# AofC_2023

Learning F# by doing [AdventOfCode 2023](https://adventofcode.com/2023)

Previous:
* [2021](https://github.com/JWMB/AofC_2021)
* [2022](https://github.com/JWMB/AofC_2022)


##Autogenerated##
## [Day 1 - Calorie Counting](https://adventofcode.com/2022/day/1)
[Source](/AofC_2023/Days/D1.fs) | [Input](/AofC_2023/Days/D1.txt)  
### part1
```FSharp
let part1 input =
    let parseRow input =
        let digits = Regex.Replace(input, @"\D", "") |> Seq.toArray
        firstLast digits

    let rowValues = Parsing.parseRows input parseRow
    Seq.sum rowValues
```

Result (in `9`ms): `55607`
### part2
```FSharp
let part2 input =
    let digitWords = "zero one two three four five six seven eight nine".Split ' '
    let digitWordPattern = digitWords |> String.concat "|"
    let pattern = $@"({digitWordPattern}|\d)"

    let makeDigit str =
        match digitWords |> Array.tryFindIndex (fun f -> f = str) with
            | Some s -> s
            | _ -> int str

    let parseRow input =
        let optionalFinal = Regex.Match(input, $"{pattern}$")
        let matches = Regex.Matches(input, pattern) |> Seq.toArray
        let matches = 
            if optionalFinal.Success && optionalFinal.Value <> (matches |> Array.last).Value then
                [| optionalFinal |] |> Array.append matches
            else
                matches
        let values = matches |> Array.map (fun f -> makeDigit(f.Value))
        firstLast values

    let rowValues = Parsing.parseRows input parseRow
    let result = Seq.sum rowValues
    result // 55309 too high
```

Result (in `14`ms): `55309`
